# SPDX-License-Identifier: GPL-2.0
%YAML 1.2
---
$id: http://devicetree.org/schemas/interconnect/qcom,sc7180.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title:  Qualcomm SC7180 Network-On-Chip Interconnect

maintainers:
  - David Dai <daidavid1@codeaurora.org>

description: |
   SC7180 interconnect providers support system bandwidth requirements through
   RPMh hardware accelerators known as Bus Clock Manager (BCM). The provider is
   able to communicate with the BCM through the Resource State Coordinator (RSC)
   associated with each execution environment. Provider nodes must point to at
   least one RPMh device child node pertaining to their RSC and each provider
   can map to multiple RPMh resources.

properties:
  reg:
    maxItems: 1

  compatible:
    enum:
      - qcom,sc7180-aggre1-noc
      - qcom,sc7180-aggre2-noc
      - qcom,sc7180-camnoc-virt
      - qcom,sc7180-compute-noc
      - qcom,sc7180-config-noc
      - qcom,sc7180-dc-noc
      - qcom,sc7180-gem-noc
      - qcom,sc7180-ipa-virt
      - qcom,sc7180-mc-virt
      - qcom,sc7180-mmss-noc
      - qcom,sc7180-npu-noc
      - qcom,sc7180-qup-virt
      - qcom,sc7180-system-noc

  '#interconnect-cells':
    const: 1

  qcom,bcm-voters:
    $ref: /schemas/types.yaml#/definitions/phandle-array
    description: |
      List of phandles to qcom,bcm-voter nodes that are required by
      this interconnect to send RPMh commands.

  qcom,bcm-voter-names:
    $ref: /schemas/types.yaml#/definitions/string-array
    description: |
      Names for each of the qcom,bcm-voters specified.

required:
  - compatible
  - reg
  - '#interconnect-cells'
  - qcom,bcm-voters

additionalProperties: false

examples:
  - |
      #include <dt-bindings/interconnect/qcom,sc7180.h>

      config_noc: interconnect@1500000 {
            compatible = "qcom,sc7180-config-noc";
            reg = <0 0x01500000 0 0x28000>;
            #interconnect-cells = <1>;
            qcom,bcm-voters = <&apps_bcm_voter>;
      };

      system_noc: interconnect@1620000 {
            compatible = "qcom,sc7180-system-noc";
            reg = <0 0x01620000 0 0x17080>;
            #interconnect-cells = <1>;
            qcom,bcm-voters = <&apps_bcm_voter>;
      };

      mc_virt: interconnect@1630000 {
            compatible = "qcom,sc7180-mc-virt";
            reg = <0 0x01630000 0 0x4000>;
            #interconnect-cells = <1>;
            qcom,bcm-voters = <&apps_bcm_voter>;
      };

      qup_virt: interconnect@1650000 {
            compatible = "qcom,sc7180-qup-virt";
            reg = <0 0x01650000 0 0x4000>;
            #interconnect-cells = <1>;
            qcom,bcm-voters = <&apps_bcm_voter>;
      };

      aggre1_noc: interconnect@16e0000 {
            compatible = "qcom,sc7180-aggre1-noc";
            reg = <0 0x016e0000 0 0x15080>;
            #interconnect-cells = <1>;
            qcom,bcm-voters = <&apps_bcm_voter>;
      };

      aggre2_noc: interconnect@1700000 {
            compatible = "qcom,sc7180-aggre2-noc";
            reg = <0 0x01700000 0 0x1f880>;
            #interconnect-cells = <1>;
            qcom,bcm-voters = <&apps_bcm_voter>;
      };

      compute_noc: interconnect@170e000 {
            compatible = "qcom,sc7180-compute-noc";
            reg = <0 0x0170e000 0 0x11880>;
            #interconnect-cells = <1>;
            qcom,bcm-voters = <&apps_bcm_voter>;
      };

      mmss_noc: interconnect@1740000 {
            compatible = "qcom,sc7180-mmss-noc";
            reg = <0 0x01740000 0 0x1c100>;
            #interconnect-cells = <1>;
            qcom,bcm-voters = <&apps_bcm_voter>;
      };

      ipa_virt: interconnect@1e00000 {
            compatible = "qcom,sc7180-ipa-virt";
            reg = <0 0x01e00000 0 0x4000>;
            #interconnect-cells = <1>;
            qcom,bcm-voters = <&apps_bcm_voter>;
      };

      dc_noc: interconnect@9160000 {
            compatible = "qcom,sc7180-dc-noc";
            reg = <0 0x09160000 0 0x03200>;
            #interconnect-cells = <1>;
            qcom,bcm-voters = <&apps_bcm_voter>;
      };

      gem_noc: interconnect@9680000 {
            compatible = "qcom,sc7180-gem-noc";
            reg = <0 0x09680000 0 0x3e200>;
            #interconnect-cells = <1>;
            qcom,bcm-voters = <&apps_bcm_voter>;
      };

      npu_noc: interconnect@9990000 {
            compatible = "qcom,sc7180-npu-noc";
            reg = <0 0x09990000 0 0x1600>;
            #interconnect-cells = <1>;
            qcom,bcm-voters = <&apps_bcm_voter>;
      };

      camnoc_virt: interconnect@ac00000 {
            compatible = "qcom,sc7180-camnoc-virt";
            reg = <0 0x0ac00000 0 0x4000>;
            #interconnect-cells = <1>;
            qcom,bcm-voters = <&apps_bcm_voter>;
      };
